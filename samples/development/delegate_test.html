<!doctype html>
<html>
<head>
    <meta charset="utf-8"> <!-- this is optional, because Sqwidget anyway sets utf-8 as the default -->
    <title>Counter Test</title>
    <script>
    widget.config({
      "name":    "delegate_test",
      "version": "0.1.0",
      "title":   "Demonstrates delegate_popup",
      "desc":    "Demonstrates delegate_popup",
      "url":     "http://github.com/premasagar/sqwidget", // get the widget, via your taskbar
      "ui" :     "hostpage",
      "dependencies": [
        'delegate'
      ],
      "settings" : { //can we overridden by data-sqwidget-settings
        'package' : "en"
      }
    });
    </script>
    <script charset="utf-8">
        widget.ready(function() {
            var
                cont = jQuery(container),
                b = widget.getBodyElement('b');

            b.css({
                    border:'1px dotted black',
                    position: 'relative',
                    top: '-80px',
                    left: '20px'
                });
            b.append('<img src="b.png"/>');
            // display placeholder 'A'
            widget.setTemplate('default');
            // set up as delegate
            function showB() {
                b.css('display', 'block');
                return b;
            }
            function hideB() {
                b.css('display', 'none');
                return b;
            }
            plugins.delegate(cont, showB, hideB);
            
        });

        widget.loading(function() {
            // disable loading...
        });
    </script>


    <script type="text/template" id="lightbox">
        <p>Look closer</p>
    </script>
    <script type="text/template" id="loading">
        <p>Loading...</p>
    </script>
    <script type="text/template" id="error">
        <p>It broke!</p>
        <p>{{error_list}}</p>
    </script>

    <script type="text/template" id="docked">
        <img src="{{data.logoSrc}}" alt="{{data.title}}">
    </script>
</head>

<body>
       <img src="a.png" alt="Image A"/>
       <div id="debug-report" style="position:absolute; top:0; right:0;"></div>
</body>
</html>
