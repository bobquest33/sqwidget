<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Build cross-domain Sqwidget widget</title>
    <script src="../jquery.js"></script>
    <script src="build-crossdomain.js"></script>
    
    <style>
        label, textarea, input, button {
            display:block;
        }
        
        textarea, input, button {
            margin-bottom:2em;
        }
    </style>
</head>

<body>
    <h1>Build a cross-domain Sqwidget template</h1>
    <p>Pass HTML contents through this converter and save as <code>widgetname.js</code></p>

    <label for="source">Source code</label>
    <textarea id="source" rows="30" cols="80"></textarea>
    
    <label for="widgetName">Widget name (the widget's filename, without ".js")</label>
    <input id="widgetName" value="mywidget">
    
    <label for="stripwhitespace">Strip HTML whitespace</label>
    <input id="stripwhitespace" type="checkbox" checked>
    
    <button id="go">Go</button>
    
    <script>
        $('#source')
            .val('')
            .focus(function(){
                $(this).select();
            });
        

        $('#go')
            .click(function(){
                $('#source').val(
                    buildTemplate($('#source').val(), $('#widgetName').val(), $('#stripwhitespace')[0].checked)
                );
            });
    </script>
</body>
</html>
