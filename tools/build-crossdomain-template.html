<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>jsonp-x</title>
    <script src="../jquery.js"></script>
    <script src="build-crossdomain-template.js"></script>
    
    <style>
        label, textarea, input, button {
            display:block;
        }
        
        textarea, input, button {
            margin-bottom:2em;
        }
    </style>
</head>

<body>
    <h1>Create a </h1>

    <label for="source">Source code</label>
    <textarea id="source" rows="30" cols="80"></textarea>
    
    <label for="callbackName">Callback name</label>
    <input id="callbackName" value="Sqwidget.template">
    
    <label for="widgetName">Widget name</label>
    <input id="widgetName" value="my-widget">
    
    <label for="stripwhitespace">Strip HTML whitespace</label>
    <input id="stripwhitespace" type="checkbox" checked>
    
    <button id="go">Go</button>
    
    <script>
        $('#source')
            .val('')
            .focus(function(){
                $(this).select();
            });
        

        $('#go')
            .click(function(){
                $('#source').val(
                    buildTemplate($('#source').val(), $('#callbackName').val(), $('#stripwhitespace')[0].checked)
                );
            });
    </script>
</body>
</html>
